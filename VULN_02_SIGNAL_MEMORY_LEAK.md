# –í—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å: –ù–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ processedSignals

## üìù –û–ø–∏—Å
–ö–ª–∞—Å `PresenceServiceClass` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `Set` –¥–ª—è –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª—ñ–≤:
```typescript
private processedSignals: Set<string> = new Set();
// ...
if (this.processedSignals.has(signalKey)) return;
this.processedSignals.add(signalKey);
```
–¶–µ–π –Ω–∞–±—ñ—Ä –æ—á–∏—â—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É `goOffline` (–∑–∞–∑–≤–∏—á–∞–π –ø—Ä–∏ –ª–æ–≥–∞—É—Ç—ñ).

## üî¥ –†–∏–∑–∏–∫–∏
1. **–í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ (Memory Leak):** –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –≤–∏—Ö–æ–¥–∏—Ç—å —ñ–∑ —Å–∏—Å—Ç–µ–º–∏ –¥–Ω—è–º–∏ (PWA —Ä–µ–∂–∏–º), —ñ –ø—Ä–∏ —Ü—å–æ–º—É –≤–µ–¥–µ –∞–∫—Ç–∏–≤–Ω—É –≤–∑–∞—î–º–æ–¥—ñ—é –∑ —ñ–Ω—à–∏–º–∏ (–æ—Ç—Ä–∏–º—É—î "—Ö–≤–∏–ª—ñ"), —Ü–µ–π `Set` –±—É–¥–µ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ –∑—Ä–æ—Å—Ç–∞—Ç–∏. –ö–æ–∂–µ–Ω ID ‚Äî —Ü–µ –¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ (push ID Firebase).
2. **–î–µ–≥—Ä–∞–¥–∞—Ü—ñ—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ:** –•–æ—á–∞ –ø–æ—à—É–∫ —É `Set` –ø—Ä–∞—Ü—é—î –∑–∞ O(1), –ø—Ä–∏ –≤–µ–ª–∏—á–µ–∑–Ω–∏—Ö –æ–±'—î–º–∞—Ö –ø–∞–º'—è—Ç—å –º–æ–∂–µ —Å—Ç–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–æ—é –¥–ª—è –±—é–¥–∂–µ—Ç–Ω–∏—Ö –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤.

## üõ† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
1. **TTL (Time-To-Live):** –í–∏–¥–∞–ª—è—Ç–∏ –∑–∞–ø–∏—Å–∏ –∑ `Set` —á–µ—Ä–µ–∑ 1 —Ö–≤–∏–ª–∏–Ω—É (–æ—Å–∫—ñ–ª—å–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ —Å—Ç–∞—Ä—à–µ 30 —Å–µ–∫—É–Ω–¥ –≤—Å–µ –æ–¥–Ω–æ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –ª–æ–≥—ñ–∫–æ—é).
2. **Fixed Size Buffer:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —á–µ—Ä–≥—É —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ª–∏—à–µ –æ—Å—Ç–∞–Ω–Ω—ñ 100 ID).
