# –í—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å: –°–ª–∞–±–∫—ñ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–ø–µ–∫–∏ –¥–ª—è —Å–∏–≥–Ω–∞–ª—ñ–≤ (RTDB)

## üìù –û–ø–∏—Å
–ü–æ—Ç–æ—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `signals` –¥–æ–∑–≤–æ–ª—è—é—Ç—å –±—É–¥—å-—è–∫–æ–º—É –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø–∏—Å–∞—Ç–∏ –≤ —á—É–∂–∏–π –≤—É–∑–æ–ª, —è–∫—â–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–æ–≤–µ:
```json
"signals": {
  "$uid": {
    ".read": "auth != null && auth.uid === $uid",
    "$signalId": {
      ".write": "auth != null && (auth.uid === $uid || !data.exists())"
    }
  }
}
```

## üî¥ –†–∏–∑–∏–∫–∏
1. **Denial of Service (DoS):** –ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –º–æ–∂–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π –∑–∞–ø–æ–≤–Ω–∏—Ç—å –≤—É–∑–æ–ª –∂–µ—Ä—Ç–≤–∏ —Ç–∏—Å—è—á–∞–º–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑–∞ —Å–µ–∫—É–Ω–¥—É. –û—Å–∫—ñ–ª—å–∫–∏ –∂–µ—Ä—Ç–≤–∞ "—Å–ª—É—Ö–∞—î" —Ü–µ–π –≤—É–∑–æ–ª, —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –∑–∞–≤–∏—Å–∞–Ω–Ω—è –±—Ä–∞—É–∑–µ—Ä–∞ –∫–ª—ñ—î–Ω—Ç–∞.
2. **Database Bloat:** –ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è —Å–º—ñ—Ç—Ç—î–≤–∏—Ö –¥–∞–Ω–∏—Ö —É Realtime Database, –∑–∞ —è–∫—ñ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –ø–ª–∞—Ç–∏—Ç–∏ (Storage costs).
3. **Bypass rate limits:** –§—Ä–æ–Ω—Ç–µ–Ω–¥-–ª—ñ–º—ñ—Ç–∏ (100ms/5s) –ª–µ–≥–∫–æ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø—Ä—è–º–∏–π –∑–∞–ø–∏—Å —É Firebase API.

## üõ† –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
1. **Server-side Throttling:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Firebase Functions –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑–∞–º—ñ—Å—Ç—å –ø—Ä—è–º–æ–≥–æ –∑–∞–ø–∏—Å—É –≤ RTDB (–¥–æ—Ä–æ–∂—á–µ, –∞–ª–µ –±–µ–∑–ø–µ—á–Ω—ñ—à–µ).
2. **Timestamp Validation:** –î–æ–¥–∞—Ç–∏ –≤ –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, —â–æ `timestamp` —Å–∏–≥–Ω–∞–ª—É –¥–æ—Ä—ñ–≤–Ω—é—î `serverTimestamp()`, —ñ —â–æ –≤—ñ–Ω –Ω–æ–≤—ñ—à–∏–π –∑–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –Ω–∞ –ø–µ–≤–Ω—É –¥–µ–ª—å—Ç—É (—Ö–æ—á–∞ RTDB –ø—Ä–∞–≤–∏–ª–∞ –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–ª—è —Ü—å–æ–≥–æ).
3. **–ö–≤–æ—Ç–∏ –Ω–∞ –≤—É–∑–æ–ª:** –û–±–º–µ–∂–∏—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏–≥–Ω–∞–ª—ñ–≤ —É –≤—É–∑–ª—ñ —á–µ—Ä–µ–∑ Cloud Functions.

---

## ‚úÖ –°—Ç–∞—Ç—É—Å: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (05.02.2026)
–ü–æ—Å–∏–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–∞ –≤ `database.rules.json`. –¢–µ–ø–µ—Ä:
1. –ó–∞–ø–∏—Å —É –≤—É–∑–æ–ª —Å–∏–≥–Ω–∞–ª—ñ–≤ —ñ–Ω—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–æ–∑–≤–æ–ª–µ–Ω–æ –ª–∏—à–µ —è–∫—â–æ –∑–∞–ø–∏—Å **–Ω–æ–≤–∏–π** (`!data.exists()`) **–Ü** –ø–æ–ª–µ `fromUid` —Ç–æ—á–Ω–æ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ `auth.uid` –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞.
2. –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é `timestamp <= now`, —â–æ –∑–∞–ø–æ–±—ñ–≥–∞—î –∑–∞–ø–∏—Å—É —Å–∏–≥–Ω–∞–ª—ñ–≤ –∑ –º–∞–π–±—É—Ç–Ω—ñ–º —á–∞—Å–æ–º.
–¶–µ –≤–∏–∫–ª—é—á–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—ñ–¥–º—ñ–Ω–∏ —ñ–º–µ–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ —Ç–∞ –∑–Ω–∞—á–Ω–æ —É—Å–∫–ª–∞–¥–Ω—é—î –º–∞—Å–æ–≤–∏–π —Å–ø–∞–º –≤—ñ–¥ —ñ–º–µ–Ω—ñ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
