---
title: –ü–ª–∞–Ω –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ v09
description: –ü–æ–≥–ª–∏–±–ª–µ–Ω–∏–π –∞—É–¥–∏—Ç –ø—ñ—Å–ª—è —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—ó State Management —Ç–∞ SyncService
type: plan
status: 25%
created: 2026-02-05
---

# –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏–π –ê—É–¥–∏—Ç —Ç–∞ –ü–ª–∞–Ω –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó v09

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Å—Ç–∞–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É –ø—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è `GameOrchestrator`, `SyncService` –Ω–∞ —Ä—É–Ω–∞—Ö —Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ Zod.

## –ß–∞—Å—Ç–∏–Ω–∞ 1: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –ê—É–¥–∏—Ç

### 1. Reactivity & State (–†–µ–∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å) ‚Äî 85/100
**–°—Ç–∞—Ç—É—Å:** –ó–Ω–∞—á–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å. –û—Å–Ω–æ–≤–Ω—ñ —Å—Ç–æ—Ä–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ñ –Ω–∞ Runes.

*   **Derived over Sync:** ‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ.** –õ–æ–≥—ñ–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó URL —Ç–∞ Store –≤–∏–Ω–µ—Å–µ–Ω–æ –≤ `UrlSyncService`, —â–æ –ø—Ä–∏–±—Ä–∞–ª–æ —Å–∫–ª–∞–¥–Ω—ñ –µ—Ñ–µ–∫—Ç–∏ –∑ `+page.svelte`.
*   **Effect Discipline:** ‚úÖ **–î–æ–±—Ä–µ.** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –µ—Ñ–µ–∫—Ç—ñ–≤ –º—ñ–Ω—ñ–º—ñ–∑–æ–≤–∞–Ω–æ –≤ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ—Ü—ñ (–ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ `SyncService`).
*   **Fine-grained Reactivity:** ‚úÖ **–î–æ–±—Ä–µ.** `SyncService` —Ç–∞ —Å—Ç–æ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç–æ—á–∫–æ–≤—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è.

### 2. Architecture & Data (–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞) ‚Äî 90/100
**–°—Ç–∞—Ç—É—Å:** –í–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ—Å—Ç—ñ.

*   **Server-First:** ‚ö™ **–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ.** –ü—Ä–æ—î–∫—Ç –ø—Ä–∞—Ü—é—î —è–∫ SPA. –¶–µ —Å–≤—ñ–¥–æ–º–∏–π –≤–∏–±—ñ—Ä, –∞–ª–µ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ —Ç–µ–ø–µ—Ä –Ω–∞–¥—ñ–π–Ω–∞ –∑–∞–≤–¥—è–∫–∏ Zod.
*   **URL as State:** ‚úÖ **–ü–æ–∫—Ä–∞—â–µ–Ω–æ.** –°—Ö–µ–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ URL —Ç–µ–ø–µ—Ä —î —á–∞—Å—Ç–∏–Ω–æ—é `schemas.ts`, –∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–µ—Ä—É—î—Ç—å—Å—è —Å–µ—Ä–≤—ñ—Å–æ–º.
*   **Type Safety:** ‚úÖ **–í—ñ–¥–º—ñ–Ω–Ω–æ.** –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è Zod-—Å—Ö–µ–º –¥–ª—è `Settings`, `Progress` —Ç–∞ `Playlists` –∑–∞–∫—Ä–∏–ª–æ –¥—ñ—Ä–∏ –≤ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö.

### 3. Component Design (–î–∏–∑–∞–π–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤) ‚Äî 70/100
**–°—Ç–∞—Ç—É—Å:** –ü–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏ –¥–æ DRY (Don't Repeat Yourself).

*   **Headless Logic:** ‚úÖ **–î–æ–±—Ä–µ.** –ì—Ä–∞ –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ `GameController`.
*   **Composition:** ‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞.** –í–∏—è–≤–ª–µ–Ω–æ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –º—ñ–∂ `FriendsList.svelte` —Ç–∞ `UserSearch.svelte`. –õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–æ–∫ (`getIconComponent`, `getAvatarColor`) —Ç–∞ –∫–Ω–æ–ø–æ–∫ –ø—ñ–¥–ø–∏—Å–∫–∏ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∞.
*   **Locality of Behavior:** ‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞.** `LevelTopicModal.svelte` –≤–∏–≥–ª—è–¥–∞—î –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–º —ñ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É, —è–∫—É –≤–∞—Ä—Ç–æ —Ä–æ–∑–±–∏—Ç–∏ –Ω–∞ –ø—ñ–¥–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏.

### 4. Stability & Performance (–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å) ‚Äî 90/100
**–°—Ç–∞—Ç—É—Å:** –í–∏—Å–æ–∫–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å.

*   **Error Boundaries:** ‚úÖ **–í—ñ–¥–º—ñ–Ω–Ω–æ.** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ñ —Ç–∞ –ª–æ–∫–∞–ª—å–Ω—ñ –º–µ–∂—ñ –ø–æ–º–∏–ª–æ–∫.
*   **Cleanup:** ‚úÖ **–î–æ–±—Ä–µ.** `SyncService` –∫–æ—Ä–µ–∫—Ç–Ω–æ –∫–µ—Ä—É—î –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏.
*   **Data Integrity:** ‚úÖ **–í—ñ–¥–º—ñ–Ω–Ω–æ.** "–õ—ñ–∫—É–≤–∞–Ω–Ω—è" –±–∏—Ç–∏—Ö –¥–∞–Ω–∏—Ö –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Zod `preprocess`.

### 5. Security & A11y (–ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å) ‚Äî 80/100
**–°—Ç–∞—Ç—É—Å:** –ó–∞–¥–æ–≤—ñ–ª—å–Ω–æ.

*   **Interactive Elements:** ‚ö†Ô∏è **–ó–∞—É–≤–∞–∂–µ–Ω–Ω—è.** –î–µ—è–∫—ñ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ (–∫–∞—Ä—Ç–∫–∏ –¥—Ä—É–∑—ñ–≤, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è) –º–æ–∂—É—Ç—å –ø–æ—Ç—Ä–µ–±—É–≤–∞—Ç–∏ –∫—Ä–∞—â–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ (`onkeydown`).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: –ü–ª–∞–Ω –ü–æ–∫—Ä–∞—â–µ–Ω—å (Backlog)

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: Clean Code & Reusability

- [x] **1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó URL —É `+page.svelte`.** [Impact: 85]
    *   *Problem:* –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–≤–æ—Ö `$effect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó URL —Ç–∞ Store —î –∫—Ä–∏—Ö–∫–∏–º.
    *   *Solution:* –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `sveltekit-shallow-routing` –∞–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π `UrlSyncManager` (–∫–ª–∞—Å), —è–∫–∏–π –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä —ñ –æ–Ω–æ–≤–ª—é—î URL, –ø—Ä–∏–±–∏—Ä–∞—é—á–∏ –ª–æ–≥—ñ–∫—É –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
    *   *Status:* –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `UrlSyncService`, –ª–æ–≥—ñ–∫—É –≤–∏–Ω–µ—Å–µ–Ω–æ –∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Å—Ö–µ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ.

- [ ] **2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –¥–ª—è –î—Ä—É–∑—ñ–≤.** [Impact: 70]
    *   *Problem:* –î—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –∞–≤–∞—Ç–∞—Ä—ñ–≤ —Ç–∞ –∫–Ω–æ–ø–æ–∫ –ø—ñ–¥–ø–∏—Å–∫–∏ —É `FriendsList` —Ç–∞ `UserSearch`.
    *   *Solution:* –í–∏–¥—ñ–ª–∏—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ `<UserAvatar {user} />` —Ç–∞ `<FollowButton {uid} />`. –¶–µ —Å–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫—É —Ç–∞ —É–Ω—ñ—Ñ—ñ–∫—É—î –≤—ñ–∑—É–∞–ª.

- [ ] **3. –î–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è `LevelTopicModal.svelte`.** [Impact: 60]
    *   *Problem:* –í–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª, –∑–º—ñ—à–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–±–æ—Ä—É —Ä—ñ–≤–Ω—è —Ç–∞ —Ç–µ–º–∏.
    *   *Solution:* –†–æ–∑–±–∏—Ç–∏ –Ω–∞ `<LevelSelector />` —Ç–∞ `<TopicSelector />`.

### –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: Developer Experience

- [ ] **4. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—è —ñ–∫–æ–Ω–æ–∫.** [Impact: 40]
    *   *Problem:* –Ü–º–ø–æ—Ä—Ç —ñ–∫–æ–Ω–æ–∫ Lucide —Ä–æ–∑–∫–∏–¥–∞–Ω–∏–π –ø–æ —Ñ–∞–π–ª–∞—Ö.
    *   *Solution:* –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `src/lib/config/icons.ts` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ —è–∫ —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ —ñ–∫–æ–Ω–æ–∫, —è–∫—â–æ —Ü–µ –¥–æ—Ü—ñ–ª—å–Ω–æ –¥–ª—è tree-shaking.

- [ ] **5. –ê—É–¥–∏—Ç Accessibility (A11y).** [Impact: 50]
    *   *Problem:* –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–æ—é.
    *   *Solution:* –ü—Ä–æ–π—Ç–∏—Å—è –ø–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ö (div –∑ onclick) —ñ –¥–æ–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ä–æ–ª—ñ —Ç–∞ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏.

### –¢–∞–±–ª–∏—Ü—è –ü—Ä–æ–≥—Ä–µ—Å—É

| –ó–∞–¥–∞—á–∞ | –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (0-100) | –°—Ç–∞—Ç—É—Å | –ö–æ–º–µ–Ω—Ç–∞—Ä |
| :--- | :---: | :---: | :--- |
| **URL Sync Refactoring** | **85** | ‚úÖ | –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ UrlSyncService |
| **Extract User Components** | **70** | üî¥ | DRY –¥–ª—è FriendsList/UserSearch |
| **Split LevelTopicModal** | **60** | üî¥ | –°–ø—Ä–æ—â–µ–Ω–Ω—è UI –ª–æ–≥—ñ–∫–∏ |
| **A11y Audit** | **50** | üî¥ | –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å |

### –¶—ñ–ª—å –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
–ì–æ–ª–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äî –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –∫–æ–¥ —Ç–∞–∫, —â–æ–± AI –∞–≥–µ–Ω—Ç—É –±—É–ª–æ:
- –ü—Ä–æ—Å—Ç—ñ—à–µ —Ä–æ–∑—É–º—ñ—Ç–∏ –∫–æ–¥.
- –ü—Ä–æ—Å—Ç—ñ—à–µ –≤–Ω–æ—Å–∏—Ç–∏ –∑–º—ñ–Ω–∏.
- –ü—Ä–æ—Å—Ç—ñ—à–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É.
- –ü—Ä–æ—Å—Ç—ñ—à–µ –æ—Ä—ñ—î–Ω—Ç—É–≤–∞—Ç–∏—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ.
- –ü—Ä–æ—Å—Ç—ñ—à–µ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É.
- –ü—Ä–æ—Å—Ç—ñ—à–µ –≤–Ω–æ—Å–∏—Ç–∏ –Ω–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.
- –ü—Ä–æ—Å—Ç—ñ—à–µ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è.

### –û–±–æ–≤'—è–∑–∫–æ–≤–∞ –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è

–ö–æ–∂–µ–Ω –ø—É–Ω–∫—Ç –ø–ª–∞–Ω—É (–∑–∞–¥–∞—á–∞) –ø–æ–≤–∏–Ω–µ–Ω –∑–∞–≤–µ—Ä—à—É–≤–∞—Ç–∏—Å—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∫–æ–º–∞–Ω–¥:
- `npm run check` (—É—Å—ñ –ø–æ–º–∏–ª–∫–∏ –¢–ê –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –º–∞—é—Ç—å –±—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ).
- `npm audit` (–≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç—ñ –º–∞—é—Ç—å –±—É—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ).